# здесь намётки

  /*Проверяет температуру, переменную отключения компрессора, состояние клапана.*/
  // uint8_t tmpr = 0;
  // bool error;
  // com = (F("loop"));
 /*if (isComprOn == 1 && flag == false) {
    digitalWrite(compr, HIGH);
    flag = true;  // и тут ошибка ==
    s = (F("Work !"));
    //Сюда написать код с задержкой 5 минут для работы
  } else if (isComprOn == 0 && flag == true) {
    digitalWrite(compr, LOW);
    s = (F("isComprOn !"));
    comprEndCycle();
  }*/
   /* if (digitalRead(compr) == HIGH) {  // Ещё одна ошибка
    s = (F("ON"));                   //Повторения не будет?----------
    if (millis() - myTimer4 >= 2400000) {
      myTimer4 = millis();  // сбросить таймер
      //flag = true;                          // Флаг подняли
      stch = 0;
      isComprOn = 0;  //ошибка! было ==
      //comprEndCycle();
      delay(5);
    }
    // -------------------------------------
    if (!isLoadOn && currentMillis - previousMillis >= intervalOff) {
      // Включаем нагрузку после интервала выключения
      isLoadOn = true;
      previousMillis = currentMillis;
      digitalWrite(fanPin, HIGH);
    } else if (isLoadOn && currentMillis - previousMillis >= intervalOn) {
      // Выключаем нагрузку после интервала включения
      isLoadOn = false;
      previousMillis = currentMillis;
      digitalWrite(fanPin, LOW);
    }
  }
  // -------------------------------------
  if (isCheckingPass) {
    getTempAdd();                  // Проверяем тем-ру
    termo.setTempOld(thol, tmor);  // Записываем в память
      // считанную температуру передаём в класс getOldTemp();
    isCheckingPass = !isCheckingPass;
  }*/
      // uint8_t temOld = termo.getOldTemp();
   /* switch (temOld) {
        //##############################################################
         / Нужно исправить в классе Temperature -> uint8_t getOldTemp();
 температурныый расчёт (Подправлено, требует проверки.)
      case 0: isCheckingPass = termo.getCheckPasss(); break;
      //case 1:isCheckingPass = termo.getCheckPasss(); workHol = false; break;
      //case 2:isCheckingPass = termo.getCheckPasss(); workHol = true; break;
      case 3:
        isCheckingPass = termo.getCheckPasss();
        workMor = false;
        break;
      case 4:
        isCheckingPass = termo.getCheckPasss();
        workMor = true;
        break;

      default:
        isCheckingPass = termo.getCheckPasss();  //посмотреть...getCheckPasss Это функция. Если вы хотите её вызвать, после неё нужно поставить круглые скобки
        break;
    }  //isCheckingPass = termo.getCheckPasss;
    delay(5);
  }
  
}

// put function definitions here:
int myFunction(int x, int y) {
  return x + y;*/
  }
  #include <GyverNTC.h>
#include <U8glib.h>

U8GLIB_SSD1306_128X64 u8g(U8G_I2C_OPT_NONE | U8G_I2C_OPT_DEV_0);  // I2C / TWI
// #include <DallasTemperature.h>

#define compr  5    // реле компрессора
#define fanPin  6    // пин вентилятора
#define releKN  7    // Электромагнит
#define knopOsv 8
#define LedT  13    // 

// **************************

// термистор на пине А1 - А3
// сопротивление резистора 10к
// тепловой коэффициент 3950
GyverNTC therm1(0, 10000, 3950);  // морозилка
GyverNTC therm2(1, 10000, 3950);  //  холодилка
GyverNTC therm3(2, 10000, 3950);  //  испарилка (испарение)

float getTempAdd (){
  therm1.getTempAverage();
  therm2.getTempAverage();
  therm3.getTempAverage();
  tmor = therm1.getTempAverage();
  thol = therm2.getTempAverage();
  tisp = therm3.getTempAverage();
}
--- Дисплей ---
void displ_Vvod (){
    getTempAdd();
    u8g.firstPage();
    delay(1000);
    do {
     draw();
  } while (u8g.nextPage());
}
//--------------------------------------------------------------------
void u8g_prepare(void) {
  u8g.setFont(u8g_font_6x10);
  u8g.setFontRefHeightExtendedText();
  u8g.setDefaultForegroundColor();
  u8g.setFontPosTop();
}
void comobi(void) {
  u8g.setFont(u8g_font_9x15B);
  u8g.setPrintPos(48, 30);
  u8g.print("PAUSE");
  u8g.setFont(u8g_font_6x10);
  u8g.setPrintPos(0, 50);
  u8g.print(thol);
  u8g.setPrintPos(46, 50);
  u8g.print(tmor);
  u8g.setPrintPos(88, 50);
  u8g.print(tisp);

 // u8g.setFontRefHeightExtendedText();
 // u8g.setDefaultForegroundColor();
 // u8g.setFontPosTop();
}
void alarmCompr(void) {
u8g.setFont(u8g_font_9x15B);
  u8g.setPrintPos(48, 30);
  u8g.print("ALARM");
}
void text_Prob() {
  u8g_prepare();
  u8g.setPrintPos(0, 0);
  u8g.print(" ");
  //u8g.setPrintPos(7, 0);
  u8g.print(thol);
  u8g.setPrintPos(44,0);
  u8g.print(" ");
  //u8g.setPrintPos(40,0);
  u8g.print(tmor);
   u8g.setPrintPos(88, 0);
  u8g.print(" ");
 // u8g.setPrintPos(74, 0);
  u8g.print(tisp);
  u8g.setPrintPos(0, 18);
  u8g.print ("Work : ");
  //u8g.setPrintPos(56, 18);
  u8g.print(s2);
  u8g.setPrintPos(64, 18);
  u8g.print ("Klap : ");
  u8g.print (kl); //(knopOsv);
  u8g.setPrintPos(0, 36);
  u8g.print("kompr : ");
  u8g.setPrintPos(48, 36);
 // myString s;
  u8g.print(s);
  u8g.setPrintPos(0, 54);
   u8g.print("fan  : ");
    u8g.print(s1);
    u8g.setPrintPos(60, 54);
   u8g.print("prov: ");
    u8g.print(provH);
  //u8g.setScale();   ???????????????
 // u8g.drawStr(40, 40, tex);
  // u8g.undoScale();
}
uint8_t draw_state = 0;
void draw(void) {
  u8g_prepare();
  text_Prob();
}